<!DOCTYPE html>
<html lang='en'>
	<head>
		<title>Spark</title>
		<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
	</head>
	
	<body>
		<h1 class='header' style='display: none;'>Spark test file</h1>
		<p class='read'>This content will be read</p>
		<p class='delete'>Some content, that will disappear</p>
		<p class='create'></p>
		<p class='append'>This content will be appended</p>
		<p class='cookie'>This page has been viewed by you this many times: <input type='text' value='' /></p>
		<a href='#' class='button'>Click here to append content to the element below.</a>
		<p class='button-target'>No clicks D:<br /></p>
		<p class='mouseover'>Mouse over me to make me disappear! Click the header to make me come back!</p>
		<div class='size' style='background-color: #CCCCCC; width: 300px; height: 300px;'>
			<p class='width'>Width: <input type='text' value='' /></p>
			<p class='height'>Height: <input type='text' value='' /></p>
			<p><a href='#' class='setsize'>Set size</a></p>
		</div>
		<p class='opacity'>This is a little see through</p>
		<p class='opacity2'>Click this to fade it out</p>
		<p class='readme'>Loading README.md...</p>
		<script type='text/javascript' src='spark.js'></script>
		<script type='text/javascript'>
			function loaded()
			{
				// Content module
				s.content('p.read');
				
				// Object module
				var toDelete = s.object('p.delete');
				s.content(toDelete, '');
				
				s.content('p.create', 'This content was created');
				s.content('p.append', ' [with this!]', true);
				
				// Cookie module
				if(s.cookie('testCookie') !== false)
				{
					s.cookie('testCookie', parseInt(s.cookie('testCookie')) + 1);
					// Value module
					s.value('p.cookie input', s.cookie('testCookie'));
				}
				else
				{
					s.cookie('testCookie', 1);
					s.content('p.cookie', s.cookie('testCookie'), true);
				}
				
				// Event module
				s.event('a.button', 'click', function(e) {
					// Content and location module
					s.content('p.button-target', 'You clicked! :D at the X position of ' + s.location(e).x + '<br />', true);
				});
				
				// Event module
				s.event('h1.header', 'click', function() {
					// Visible module
					s.visible('p.mouseover', true);
				});
				
				// Event module
				s.event('p.mouseover', 'mouseover', function() {
					// Visible module
					s.visible('p.mouseover', false);
				});
				
				// Size module
				s.value('div.size p.width input', s.size('div.size').width);
				s.value('div.size p.height input', s.size('div.size').height);
				s.event('div.size p a.setsize', 'click', function() {
					s.size('div.size', parseInt(s.value('div.size p.width input')), parseInt(s.value('div.size p.height input')), 1000, function() {
						alert('Callback fired');
					});
				});
				
				// Opacity module
				s.opacity('p.opacity', 80);
				
				// Event module
				s.event('p.opacity2', 'click', function() {
					// Opacity module
					s.opacity('p.opacity2', 0, 1000);
				});
				
				// Link module
				s.link('h1.header', 'spark', 'http://github.com/Wolfy87/Spark');
				
				// AJAX module
				s.content('p.readme', s.ajax('GET', 'README.md'));
				
				// Event module
				s.transition('h1.header', 'fadein', 1000, function() {
					s.transition('h1.header', 'fadeout', 1000);
				});
			}
			
			s.event('document', 'load', loaded());
		</script>
	</body>
</html>
